{"ast":null,"code":"import React,{useState}from'react';import{useNavigate,Link}from'react-router-dom';import'./Auth.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Register(){const[email,setEmail]=useState('');const[password,setPassword]=useState('');const[confirmPassword,setConfirmPassword]=useState('');const[error,setError]=useState('');const navigate=useNavigate();const handleSubmit=e=>{e.preventDefault();setError('');if(password!==confirmPassword){setError('Пароли не совпадают');return;}const users=JSON.parse(localStorage.getItem('users')||'[]');if(users.some(user=>user.email===email)){setError('Пользователь с таким email уже существует');return;}const newUser={id:Date.now(),email,password};users.push(newUser);localStorage.setItem('users',JSON.stringify(users));const token=btoa(JSON.stringify({id:newUser.id,email:newUser.email}));localStorage.setItem('token',token);navigate('/todos');};return/*#__PURE__*/_jsx(\"div\",{className:\"auth-container\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"auth-form\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u0420\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044F\"}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"error\",children:error}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Email:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:email,onChange:e=>setEmail(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:password,onChange:e=>setPassword(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u041F\\u043E\\u0434\\u0442\\u0432\\u0435\\u0440\\u0434\\u0438\\u0442\\u0435 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:confirmPassword,onChange:e=>setConfirmPassword(e.target.value),required:true})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"\\u0417\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\\u0441\\u044F\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u0423\\u0436\\u0435 \\u0435\\u0441\\u0442\\u044C \\u0430\\u043A\\u043A\\u0430\\u0443\\u043D\\u0442? \",/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"\\u0412\\u043E\\u0439\\u0442\\u0438\"})]})]})});}export default Register;","map":{"version":3,"names":["React","useState","useNavigate","Link","jsx","_jsx","jsxs","_jsxs","Register","email","setEmail","password","setPassword","confirmPassword","setConfirmPassword","error","setError","navigate","handleSubmit","e","preventDefault","users","JSON","parse","localStorage","getItem","some","user","newUser","id","Date","now","push","setItem","stringify","token","btoa","className","children","onSubmit","type","value","onChange","target","required","to"],"sources":["C:/Users/fukaa/OneDrive/Рабочий стол/to_do_list/src/components/Register.js"],"sourcesContent":["import React, { useState } from 'react'\r\nimport { useNavigate, Link } from 'react-router-dom'\r\nimport './Auth.css'\r\n\r\nfunction Register() {\r\n\tconst [email, setEmail] = useState('')\r\n\tconst [password, setPassword] = useState('')\r\n\tconst [confirmPassword, setConfirmPassword] = useState('')\r\n\tconst [error, setError] = useState('')\r\n\tconst navigate = useNavigate()\r\n\r\n\tconst handleSubmit = e => {\r\n\t\te.preventDefault()\r\n\t\tsetError('')\r\n\r\n\t\tif (password !== confirmPassword) {\r\n\t\t\tsetError('Пароли не совпадают')\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tconst users = JSON.parse(localStorage.getItem('users') || '[]')\r\n\r\n\t\tif (users.some(user => user.email === email)) {\r\n\t\t\tsetError('Пользователь с таким email уже существует')\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tconst newUser = {\r\n\t\t\tid: Date.now(),\r\n\t\t\temail,\r\n\t\t\tpassword,\r\n\t\t}\r\n\r\n\t\tusers.push(newUser)\r\n\t\tlocalStorage.setItem('users', JSON.stringify(users))\r\n\r\n\t\tconst token = btoa(JSON.stringify({ id: newUser.id, email: newUser.email }))\r\n\t\tlocalStorage.setItem('token', token)\r\n\t\tnavigate('/todos')\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className='auth-container'>\r\n\t\t\t<form onSubmit={handleSubmit} className='auth-form'>\r\n\t\t\t\t<h2>Регистрация</h2>\r\n\t\t\t\t{error && <div className='error'>{error}</div>}\r\n\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t<label>Email:</label>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype='email'\r\n\t\t\t\t\t\tvalue={email}\r\n\t\t\t\t\t\tonChange={e => setEmail(e.target.value)}\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t<label>Пароль:</label>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\tvalue={password}\r\n\t\t\t\t\t\tonChange={e => setPassword(e.target.value)}\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t<label>Подтвердите пароль:</label>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\tvalue={confirmPassword}\r\n\t\t\t\t\t\tonChange={e => setConfirmPassword(e.target.value)}\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<button type='submit'>Зарегистрироваться</button>\r\n\t\t\t\t<p>\r\n\t\t\t\t\tУже есть аккаунт? <Link to='/login'>Войти</Link>\r\n\t\t\t\t</p>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Register\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}